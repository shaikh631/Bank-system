CREATE DATABASE banking_system;
USE banking_system;

-- Users table
CREATE TABLE users (
    user_id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) UNIQUE NOT NULL,
    password VARCHAR(255) NOT NULL,
    email VARCHAR(100) UNIQUE NOT NULL,
    full_name VARCHAR(100) NOT NULL,
    phone VARCHAR(15),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Accounts table
CREATE TABLE accounts (
    account_id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT,
    account_number VARCHAR(20) UNIQUE NOT NULL,
    account_type ENUM('SAVINGS', 'CHECKING', 'BUSINESS') NOT NULL,
    balance DECIMAL(15,2) DEFAULT 0.00,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(user_id)
);

-- Transactions table
CREATE TABLE transactions (
    transaction_id INT AUTO_INCREMENT PRIMARY KEY,
    from_account_id INT,
    to_account_id INT,
    amount DECIMAL(15,2) NOT NULL,
    transaction_type ENUM('DEPOSIT', 'WITHDRAWAL', 'TRANSFER') NOT NULL,
    description TEXT,
    transaction_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (from_account_id) REFERENCES accounts(account_id),
    FOREIGN KEY (to_account_id) REFERENCES accounts(account_id)
);

-- Insert sample data
INSERT INTO users (username, password, email, full_name, phone) VALUES
('john_doe', 'password123', 'john@email.com', 'John Doe', '123-456-7890'),
('jane_smith', 'password123', 'jane@email.com', 'Jane Smith', '123-456-7891');

INSERT INTO accounts (user_id, account_number, account_type, balance) VALUES
(1, 'SAV001', 'SAVINGS', 5000.00),
(1, 'CHK001', 'CHECKING', 2500.00),
(2, 'SAV002', 'SAVINGS', 7500.00);

INSERT INTO transactions (from_account_id, to_account_id, amount, transaction_type, description) VALUES
(NULL, 1, 1000.00, 'DEPOSIT', 'Initial deposit'),
(1, NULL, 500.00, 'WITHDRAWAL', 'ATM withdrawal'),
(1, 3, 200.00, 'TRANSFER', 'Transfer to Jane');




CREATE DATABASE banking_db;

USE banking_db;

CREATE TABLE customers (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(100) NOT NULL UNIQUE,
    password VARCHAR(100) NOT NULL
);
